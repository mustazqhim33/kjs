{% extends 'base.html' %}
{% block content %}
<h1>STRUCTURES</h1>
<div class="top-bar">
    <input type="text" id="searchField" placeholder="Search..." onkeyup="searchTable()" />
    <button onclick="openModal()" class="add-btn">Add New</button>
</div>
<table id="structureTable">
    <thead>
        <tr>
            <th>Structure ID</th>
            <th>Name</th>
        </tr>
    </thead>
    <tbody>
        {% for item in structures %}
        <tr>
            <td>{{ item.structure_id }}</td>
            <td>{{ item.structure_name }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div id="addModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>

    <form method="POST" action="/structures">

        <label>Structure Name</label>
        <input type="text" id="structure_name" name="structure_name">

        <button type="submit" class="submit-button">Submit</button>
    </form>
  </div>
</div>

<script>
    function openModal() {
      document.getElementById('addModal').style.display = 'block';
    }
   
    function closeModal() {
      document.getElementById('addModal').style.display = 'none';
    }
   
    window.onclick = function(event) {
      const modal = document.getElementById('addModal');
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
</script>
{% endblock %}